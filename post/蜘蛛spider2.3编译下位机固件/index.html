<!DOCTYPE html>
<html
  dir="ltr"
  lang="en"
  data-theme=""
  
    class="html theme--light"
  
><head>
  <title>
    
      
        蜘蛛spider2.3编译下位机固件 |
      Power by BinByZhang

  </title>

  
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.122.0"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="author" content="Power by BinByZhang" />
  <meta
    name="description"
    content="路漫漫其修远兮，吾将上下而求索！"
  />
  
  
    
    
    <link
      rel="stylesheet"
      href="/zhb.io/scss/main.min.26d8396ded3f4aa47cc8d77a9fcb09fee1d20d223c6b3f074a21c7e217bc8c6d.css"
      integrity=""
      crossorigin="anonymous"
      type="text/css"
    />
  

  
  <link
    rel="stylesheet"
    href="/zhb.io/css/markupHighlight.min.73ccfdf28df555e11009c13c20ced067af3cb021504cba43644c705930428b00.css"
    integrity=""
    crossorigin="anonymous"
    type="text/css"
  />
  
  
  <link
    rel="stylesheet"
    href="/zhb.io/fontawesome/css/fontawesome.min.7f3c2281c7f965ce3c64888aa452793252a0416909c181097f81d0a0f7d1624e.css"
    integrity=""
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/zhb.io/fontawesome/css/solid.min.35fc032da8ede6681675d20a2f862fb9e1045c1d512d495fcf862c054daffef2.css"
    integrity=""
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/zhb.io/fontawesome/css/regular.min.3b92357925ea7284f0c6b0378396f39f470f7842ed9702f337e667c4026bf837.css"
    integrity=""
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/zhb.io/fontawesome/css/brands.min.ebb1096e1976e8cc4e2532cfa050b8f30eb13b8eb06be5cee3e38eb426b838ea.css"
    integrity=""
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link rel="shortcut icon" href="/zhb.io/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/zhb.io/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/zhb.io/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/zhb.io/favicon-16x16.png" />

  <link rel="canonical" href="https://nano-oss.github.io/zhb.io/post/%E8%9C%98%E8%9B%9Bspider2.3%E7%BC%96%E8%AF%91%E4%B8%8B%E4%BD%8D%E6%9C%BA%E5%9B%BA%E4%BB%B6/" />

  
  
  
  
  <script
    type="text/javascript"
    src="/zhb.io/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js"
    integrity=""
    crossorigin="anonymous"
  ></script>

  
    
    
    <script
      type="text/javascript"
      src="/zhb.io/js/anatole-theme-switcher.min.d6d329d93844b162e8bed1e915619625ca91687952177552b9b3e211014a2957.js"
      integrity=""
      crossorigin="anonymous"
    ></script>
  

  


  
  <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="蜘蛛spider2.3编译下位机固件"/>
<meta name="twitter:description" content="参考链接 - https://www.bilibili.com/read/cv24075991/ http://git.fysetc.com.cn/FYSETC/FYSETC-SPIDER/src/branch/main/%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3_%E4%B8%AD%E6%96%87.md#user-content-112-spider-v2x
操作步骤 - 0.klipper编译固件 选择 STMicroelectronics STM32 选择 STM32F446 选择 12 MHz crystal 选择 32KiB bootloader 如果使用 USB 线连接树莓派和蜘蛛主板，选择选项 USB (on PA11/PA12),还需要改成no bootloader 如果使用串口连接树莓派和蜘蛛，选择选项 Serial (on USART1 PA10/PA9)
1.卡刷： 用 TF 进行固件更新，只需要把你编译好的 firmware.bin 文件（如果是 klipper 固件的话，默认生成 klipper.bin 你需要把 klipper.bin 改名成 firmware.bin）拷贝到你的 TF 卡中，插入蜘蛛主板的 TF 卡槽中，给蜘蛛上电。指示灯开始闪烁表示开始烧录，TF 卡旁边的指示灯不再闪烁即烧录完成。拔下 TF 卡，然后插到电脑上，你会发现 firmware.bin 被重新命名为 old.bin，说明烧录成功。如果名称不变，说明没有烧录成功。
2.线刷： 第一步：进入 DFU 模式 首先断开电源 用跳线帽短接 5V 管脚和 DC5V 用跳线帽短接 BT0 和 3.3V 用 USB 线连接主板和你的电脑（或者树莓派） 上电 24v 现在主板已经在 DFU 模式了，如果没有请按一下蜘蛛的复位按钮."/>



  
  <meta property="og:title" content="蜘蛛spider2.3编译下位机固件" />
<meta property="og:description" content="参考链接 - https://www.bilibili.com/read/cv24075991/ http://git.fysetc.com.cn/FYSETC/FYSETC-SPIDER/src/branch/main/%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3_%E4%B8%AD%E6%96%87.md#user-content-112-spider-v2x
操作步骤 - 0.klipper编译固件 选择 STMicroelectronics STM32 选择 STM32F446 选择 12 MHz crystal 选择 32KiB bootloader 如果使用 USB 线连接树莓派和蜘蛛主板，选择选项 USB (on PA11/PA12),还需要改成no bootloader 如果使用串口连接树莓派和蜘蛛，选择选项 Serial (on USART1 PA10/PA9)
1.卡刷： 用 TF 进行固件更新，只需要把你编译好的 firmware.bin 文件（如果是 klipper 固件的话，默认生成 klipper.bin 你需要把 klipper.bin 改名成 firmware.bin）拷贝到你的 TF 卡中，插入蜘蛛主板的 TF 卡槽中，给蜘蛛上电。指示灯开始闪烁表示开始烧录，TF 卡旁边的指示灯不再闪烁即烧录完成。拔下 TF 卡，然后插到电脑上，你会发现 firmware.bin 被重新命名为 old.bin，说明烧录成功。如果名称不变，说明没有烧录成功。
2.线刷： 第一步：进入 DFU 模式 首先断开电源 用跳线帽短接 5V 管脚和 DC5V 用跳线帽短接 BT0 和 3.3V 用 USB 线连接主板和你的电脑（或者树莓派） 上电 24v 现在主板已经在 DFU 模式了，如果没有请按一下蜘蛛的复位按钮." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://nano-oss.github.io/zhb.io/post/%E8%9C%98%E8%9B%9Bspider2.3%E7%BC%96%E8%AF%91%E4%B8%8B%E4%BD%8D%E6%9C%BA%E5%9B%BA%E4%BB%B6/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-08-02T13:44:50+08:00" />
<meta property="article:modified_time" content="2023-08-02T13:44:50+08:00" /><meta property="og:site_name" content="Bin" />




  
  
  
  
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "articleSection": "post",
        "name": "蜘蛛spider2.3编译下位机固件",
        "headline": "蜘蛛spider2.3编译下位机固件",
        "alternativeHeadline": "",
        "description": "
      
        参考链接 - https:\/\/www.bilibili.com\/read\/cv24075991\/ http:\/\/git.fysetc.com.cn\/FYSETC\/FYSETC-SPIDER\/src\/branch\/main\/%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3_%E4%B8%AD%E6%96%87.md#user-content-112-spider-v2x\n操作步骤 - 0.klipper编译固件 选择 STMicroelectronics STM32 选择 STM32F446 选择 12 MHz crystal 选择 32KiB bootloader 如果使用 USB 线连接树莓派和蜘蛛主板，选择选项 USB (on PA11\/PA12),还需要改成no bootloader 如果使用串口连接树莓派和蜘蛛，选择选项 Serial (on USART1 PA10\/PA9)\n1.卡刷： 用 TF 进行固件更新，只需要把你编译好的 firmware.bin 文件（如果是 klipper 固件的话，默认生成 klipper.bin 你需要把 klipper.bin 改名成 firmware.bin）拷贝到你的 TF 卡中，插入蜘蛛主板的 TF 卡槽中，给蜘蛛上电。指示灯开始闪烁表示开始烧录，TF 卡旁边的指示灯不再闪烁即烧录完成。拔下 TF 卡，然后插到电脑上，你会发现 firmware.bin 被重新命名为 old.bin，说明烧录成功。如果名称不变，说明没有烧录成功。\n2.线刷： 第一步：进入 DFU 模式 首先断开电源 用跳线帽短接 5V 管脚和 DC5V 用跳线帽短接 BT0 和 3.3V 用 USB 线连接主板和你的电脑（或者树莓派） 上电 24v 现在主板已经在 DFU 模式了，如果没有请按一下蜘蛛的复位按钮.


      


    ",
        "inLanguage": "zh-cn",
        "isFamilyFriendly": "true",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/nano-oss.github.io\/zhb.io\/post\/%E8%9C%98%E8%9B%9Bspider2.3%E7%BC%96%E8%AF%91%E4%B8%8B%E4%BD%8D%E6%9C%BA%E5%9B%BA%E4%BB%B6\/"
        },
        "author" : {
            "@type": "Person",
            "name": "Power by BinByZhang"
        },
        "creator" : {
            "@type": "Person",
            "name": "Power by BinByZhang"
        },
        "accountablePerson" : {
            "@type": "Person",
            "name": "Power by BinByZhang"
        },
        "copyrightHolder" : {
            "@type": "Person",
            "name": "Power by BinByZhang"
        },
        "copyrightYear" : "2023",
        "dateCreated": "2023-08-02T13:44:50.00Z",
        "datePublished": "2023-08-02T13:44:50.00Z",
        "dateModified": "2023-08-02T13:44:50.00Z",
        "publisher":{
            "@type":"Organization",
            "name": "Power by BinByZhang",
            "url": "https://nano-oss.github.io/zhb.io/",
            "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/nano-oss.github.io\/zhb.io\/favicon-32x32.png",
                "width":"32",
                "height":"32"
            }
        },
        "image": 
      [
      ]

    ,
        "url" : "https:\/\/nano-oss.github.io\/zhb.io\/post\/%E8%9C%98%E8%9B%9Bspider2.3%E7%BC%96%E8%AF%91%E4%B8%8B%E4%BD%8D%E6%9C%BA%E5%9B%BA%E4%BB%B6\/",
        "wordCount" : "170",
        "genre" : [ ],
        "keywords" : [ ]
    }
  </script>



  
</head>
<body class="body">
    <div class="wrapper">
      <aside
        
          class="wrapper__sidebar"
        
      ><div
  class="sidebar
    animated fadeInDown
  "
>
  <div class="sidebar__content">
    <div class="sidebar__introduction">
      <img
        class="sidebar__introduction-profileimage"
        src="/zhb.io/img/header.jpg"
        alt="profile picture"
      />
      
        <div class="sidebar__introduction-title">
          <a href="/zhb.io">Bin</a>
        </div>
      
      <div class="sidebar__introduction-description">
        <p>路漫漫其修远兮，吾将上下而求索！</p>
      </div>
    </div>
    <ul class="sidebar__list">
      
        <li class="sidebar__list-item">
          <a
            href="img/wx.jpg"
            target="_blank"
            rel="noopener me"
            aria-label="微信"
            title="微信"
          >
            <i class="fab fa-weixin fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="https://space.bilibili.com/1617463074"
            target="_blank"
            rel="noopener me"
            aria-label="B站"
            title="B站"
          >
            <i class="fab fa-bilibili fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="https://gitee.com/naonano"
            target="_blank"
            rel="noopener me"
            aria-label="Gitee"
            title="Gitee"
          >
            <i class="fab fa-github fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="img/email.png"
            target="_blank"
            rel="noopener me"
            aria-label="邮箱"
            title="邮箱"
          >
            <i class="fas fa-envelope fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="https://www.zhihu.com/people/double-n-86"
            target="_blank"
            rel="noopener me"
            aria-label="知乎"
            title="知乎"
          >
            <i class="fab fa-zhihu fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="img/wxmp.jpg"
            target="_blank"
            rel="noopener me"
            aria-label="微信公众号"
            title="微信公众号"
          >
            <i class="fab fa-squarespace fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
    </ul>
  </div><footer class="footer footer__sidebar">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        Power by BinByZhang
        2024
      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/zhb.io/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js"
    integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ="
    crossorigin="anonymous"
  ></script></div>
</aside>
      <main
        
          class="wrapper__main"
        
      >
        <header class="header"><div
  class="
    animated fadeInDown
  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
  </a>
  <nav class="nav">
    <ul class="nav__list" id="navMenu">
      
      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/zhb.io/"
              
              title=""
              >首页</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/zhb.io/post/"
              
              title=""
              >全部文章-时间线</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/zhb.io/categories/"
              
              title=""
              >文章分类</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/zhb.io/tags/"
              
              title=""
              >文章标签</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/zhb.io/download/"
              
              title=""
              >文件分享</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/zhb.io/self/"
              
              title=""
              >个人简历</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/zhb.io/about/"
              
              title=""
              >关于</a
            >
          </li>
        

      
    </ul>
    <ul class="nav__list nav__list--end">
      
      
        <li class="nav__list-item">
          <div class="themeswitch">
            <a title="Switch Theme">
              <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
          </div>
        </li>
      
    </ul>
  </nav>
</div>
</header>
  <div
    class="post 
      animated fadeInDown
    "
  >
    
    <div class="post__content">
      <h1>蜘蛛spider2.3编译下位机固件</h1>
      
        <ul class="post__meta">
          <li class="post__meta-item">
            <em class="fas fa-calendar-day post__meta-icon"></em>
            <span class="post__meta-text"
              >
                
                  Wed, Aug 2, 2023
                

              
            </span>
          </li>
          <li class="post__meta-item">
            <em class="fas fa-stopwatch post__meta-icon"></em>
            <span class="post__meta-text">One-minute read</span>
          </li>
        </ul>
      <ul>
<li>
<p>参考链接 -
<a href="https://www.bilibili.com/read/cv24075991/">https://www.bilibili.com/read/cv24075991/</a>
<a href="http://git.fysetc.com.cn/FYSETC/FYSETC-SPIDER/src/branch/main/%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3_%E4%B8%AD%E6%96%87.md#user-content-112-spider-v2x">http://git.fysetc.com.cn/FYSETC/FYSETC-SPIDER/src/branch/main/%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3_%E4%B8%AD%E6%96%87.md#user-content-112-spider-v2x</a></p>
</li>
<li>
<p>操作步骤 -
0.klipper编译固件
选择 STMicroelectronics STM32
选择 STM32F446
选择 12 MHz crystal
选择 32KiB bootloader
如果使用 USB 线连接树莓派和蜘蛛主板，选择选项 USB (on PA11/PA12),还需要改成no bootloader
如果使用串口连接树莓派和蜘蛛，选择选项 Serial (on USART1 PA10/PA9)</p>
</li>
</ul>
<p>1.卡刷：
用 TF 进行固件更新，只需要把你编译好的 firmware.bin 文件（如果是 klipper 固件的话，默认生成 klipper.bin 你需要把 klipper.bin 改名成 firmware.bin）拷贝到你的 TF 卡中，插入蜘蛛主板的 TF 卡槽中，给蜘蛛上电。指示灯开始闪烁表示开始烧录，TF 卡旁边的指示灯不再闪烁即烧录完成。拔下 TF 卡，然后插到电脑上，你会发现 firmware.bin 被重新命名为 old.bin，说明烧录成功。如果名称不变，说明没有烧录成功。</p>
<p>2.线刷：
第一步：进入 DFU 模式
首先断开电源
用跳线帽短接 5V 管脚和 DC5V
用跳线帽短接 BT0 和 3.3V
用 USB 线连接主板和你的电脑（或者树莓派）
上电 24v
现在主板已经在 DFU 模式了，如果没有请按一下蜘蛛的复位按钮. 除了 24V 供电，也可以用 USB 5V 供电，不过在上述2步时跳线帽需要短接 5V 管脚 和 USB5V（翻到主板背面可以看到丝印）。
烧录完成后，把 BT0 和 3.3V 跳线帽拔下</p>
<p>第二步：安装 dfu-util 软件
sudo apt-get install dfu-util
进入 DFU 模式之后，确认 dfu-util 软件安装好，可以用 dfu-util &ndash;version 命令进行查看，如果有以下类似的输出，则说明 dfu-util 安装好了。</p>
<p>第三步：发送上传命令
使用下列命令上传固件。但此之前，需要根据固件和bootloader 的情况，调整这个命令。如果是 klipper 固件，生成的固件一般在 out/klipper 把以下命令中的 firmware.bin 改成 out/klipper.bin，支持 hex 格式如 firmware.hex . 根据自己主板的 bootloader 的情况改变命令中的 0x08008000 部分。例如你采用的是 Marlin 固件，env 设定为 default_envs = FYSETC_S6 ，那么你需要把命令中的 0x08008000 改成0x08010000，如果 env 是 default_envs = FYSETC_S6_8000，则不需要修改。
如果你用的是 klipper 固件，并且 make menuconfig 的时候如果选择了 No bootloader, 需要把命令中的 0x08008000 改成0x08000000，如果选择了 32kiB bootloader，则不需要更改，如果选择了 64KiB bootloader, 需要把 0x08008000 改成0x08010000，如果是 hex 文件需要把 0x08008000 改成0x08000000.</p>
<p>dfu-util -R -a 0 -s 0x08008000:leave -D firmware.bin</p>


</div>
    <div class="post__footer">
      

      
    </div>

    
  </div>

      </main>
    </div><footer class="footer footer__base">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        Power by BinByZhang
        2024
      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/zhb.io/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js"
    integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ="
    crossorigin="anonymous"
  ></script></body>
</html>
